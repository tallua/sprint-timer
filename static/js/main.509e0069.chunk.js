(this["webpackJsonpsprint-timer"]=this["webpackJsonpsprint-timer"]||[]).push([[0],{15:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),i=n.n(r),o=(n(15),n(4)),l=Object(a.createContext)({supportNotificatoin:!1,sendNotification:function(e){}}),u=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],i=n[1];Object(a.useEffect)((function(){"Notification"in window&&Notification.requestPermission((function(e){"granted"===e&&i(!0)}))}),[]);var u=r?function(e){return new Notification(e)}:function(e){};return c.a.createElement(l.Provider,{value:{supportNotificatoin:r,sendNotification:u}},e.children)},s=n(10),m=n(26),f=n(27),d=n(28);function p(e,t){return function(n,a){return null!==n.match(e)&&(a(t(n)),!0)}}function v(e,t){return t<e?t:e}var E=[p(/^\d\d:\d\d$/g,(function(e){var t=v(parseInt(e.split(":")[0]),60);return 1e3*(v(parseInt(e.split(":")[1]),60)+60*t)})),p(/^\d\d.\d\d$/g,(function(e){var t=v(parseInt(e.split(".")[0]),60);return 1e3*(v(parseInt(e.split(".")[1]),60)+60*t)})),p(/^\d{1,2}$/g,(function(e){return 6e4*v(parseInt(e),60)}))],h=function(e){var t=Object(a.useState)(36e5),n=Object(o.a)(t,2),r=n[0],i=n[1],l=function(e){console.log("time matched to : ".concat(e)),i(e)};return c.a.createElement(m.a,null,c.a.createElement(m.a.Prepend,null,c.a.createElement(m.a.Text,{id:"timer-time-input"}," Time ")),c.a.createElement(f.a,{placeholder:"MM:SS",defaultValue:"60:00",onChange:function(e){return function(e){var t,n=Object(s.a)(E);try{for(n.s();!(t=n.n()).done;)if((0,t.value)(e,l))return}catch(a){n.e(a)}finally{n.f()}}(e.target.value)}}),c.a.createElement(d.a,{variant:"success",onClick:function(){return e.onTimeSelected&&e.onTimeSelected(r)}},"Start"),c.a.createElement(d.a,{variant:"danger",onClick:function(){return e.onTimeSelected&&e.onTimeSelected(0)}},"Stop"))};n(21);var g=15.9155;function b(e,t,n){for(var a=[],c=e;c<=t;)a.push(c),c+=n;return a}function j(e){e<0&&(e=0);var t=1e3*Math.round(e/1e3),n=Math.floor(t/1e3%60),a=Math.floor(t/6e4%60),c=("0"+n).slice(-2),r=("0"+a).slice(-2);return"".concat(r,":").concat(c)}var O=function(e){var t=e.percentage;return c.a.createElement("g",null,c.a.createElement("circle",{cx:31.831,cy:31.831,r:g,fill:"none",strokeWidth:31.831,strokeDasharray:"".concat(t," 100")}))},S=function(e,t,n,a){var c=a/180*Math.PI;return[[e+t*Math.cos(c),e+t*Math.sin(c)],[e+n*Math.cos(c),e+n*Math.sin(c)]]},T=function(e){return c.a.createElement("g",null,b(0,11,1).map((function(e){var t=S(31.831,22.281699999999997,28.6479,30*e);return e%3===0?c.a.createElement("line",{key:e,x1:t[0][0],y1:t[0][1],x2:t[1][0],y2:t[1][1],strokeWidth:2}):c.a.createElement("line",{key:e,x1:t[0][0],y1:t[0][1],x2:t[1][0],y2:t[1][1],strokeWidth:1})})))},k=function(e){var t=31.831,n=3.1831,a=31.831,r=S(t,n,a,3.6*e.percentage),i=S(t,n,a,0);return c.a.createElement("g",null,c.a.createElement("circle",{cx:31.831,cy:31.831,r:n}),c.a.createElement("line",{x1:r[0][0],y1:r[0][1],x2:r[1][0],y2:r[1][1],strokeWidth:1}),c.a.createElement("line",{x1:i[0][0],y1:i[0][1],x2:i[1][0],y2:i[1][1],strokeWidth:1}))},y=function(e){return c.a.createElement("svg",{className:"circle-timer-svg",viewBox:"0 0 ".concat(63.662," ").concat(63.662)},c.a.createElement(O,{percentage:100}),c.a.createElement(T,null),c.a.createElement(O,{percentage:100*e.percentage}),c.a.createElement(k,{percentage:100*e.percentage}))},x=function(e){var t=e.totalTime?e.totalTime:36e5,n=b(0,1,1/12).map((function(e){return e*t})),r=Object(a.useContext)(l).sendNotification,i=Object(a.useState)(!1),u=Object(o.a)(i,2),s=u[0],m=u[1],f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=Object(a.useState)({endTime:0,checkpoints:[]}),c=Object(o.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)(Date.now()),u=Object(o.a)(l,2),s=u[0],m=u[1],f=Object(a.useState)(0),d=Object(o.a)(f,2),p=d[0],v=d[1];Object(a.useEffect)((function(){var e=setInterval((function(){var e=Date.now();e>r.endTime&&(e=r.endTime),m(e)}),t);return function(){console.log("relase interval"),clearInterval(e)}}),[r,t]),Object(a.useEffect)((function(){r.checkpoints.length<=p||s<r.checkpoints[p][1]||(e(r.endTime-s),v(p+1))}),[r,s,e,p]);var E=function(e,t){var n=Date.now(),a=n+e,c=t.sort((function(e,t){return t-e})).map((function(e){return[e,a-e]})),r=c.findIndex((function(e){return n<=e[1]}));i({endTime:a,checkpoints:c}),v(-1===r?0:r)};return[r.endTime-s,E]}((function(e){s&&(console.log("alarm: ".concat(e)),r("".concat(j(e)," Remain")),0===e&&m(!1))}),100),d=Object(o.a)(f,2),p=d[0],v=d[1];return c.a.createElement("div",null,c.a.createElement("p",null," Sprint Timer"),c.a.createElement("div",{className:"circle-timer-clock"},c.a.createElement(y,{percentage:p/t})),c.a.createElement("p",null," ",j(p)," "),c.a.createElement("div",{className:"circle-timer-footer"},c.a.createElement(h,{onTimeSelected:function(e){m(0!==e),v(e,n)}})))};n(22),n(23);var N=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"}),c.a.createElement("div",{className:"App-content"},c.a.createElement(u,null,c.a.createElement(x,null))),c.a.createElement("footer",{className:"App-footer"}))},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),I()}},[[24,1,2]]]);
//# sourceMappingURL=main.509e0069.chunk.js.map